---
title: "TidyTuesday Analysis 2"
format: html
execute:
  echo: false
  warning: false
  message: false
---

---

# San Francisco Trees (2020)

**Source:** [TidyTuesday San Francisco Trees Resource](https://github.com/rfordatascience/tidytuesday/tree/main/data/2020/2020-01-28)  
**Original data:** City and County of San Francisco. (2020). Street Tree List. [SF Open Data Link](https://data.sfgov.org/Nature-and-Sustainability/Street-Tree-List/tkzw-k3nq)


## Introduction

This San Francisco Trees dataset, shared via TidyTuesday, catalogs nearly 200,000 street trees with details like species, dimensions, and the agency or entity responsible for care. It provides a window onto how a major city manages its urban forestry and the division of responsibility among public, private, and institutional actors.

---

## Questions Explored

- **Which caretakers/agencies are responsible for the most trees in San Francisco?**
- **Are there dominant players, or is responsibility widely dispersed?**


## Analysis & Visualization
---

```{r}
# Get the Data

sf_trees <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2020/2020-01-28/sf_trees.csv')


tuesdata <- tidytuesdayR::tt_load('2020-01-28') 
tuesdata <- tidytuesdayR::tt_load(2020, week = 5)


sf_trees <- tuesdata$sf_trees

library(tidyverse)

top_caretakers <- sf_trees %>%
  filter(!is.na(caretaker)) %>%
  count(caretaker, sort = TRUE) %>%
  slice_max(n, n = 10)

ggplot(top_caretakers, aes(x = reorder(caretaker, n), y = n)) +
  geom_col(fill = "forestgreen") +
  coord_flip() +
  labs(
    title = "Top 10 Tree Caretakers/Agencies in San Francisco",
    x = "Caretaker/Agency",
    y = "Number of Trees"
  ) +
  theme_minimal(base_size = 14)

```
